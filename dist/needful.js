!function(r,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("needful",[],n):"object"==typeof exports?exports.needful=n():r.needful=n()}(this,(function(){return(()=>{"use strict";var r={};return((r,n)=>{function e(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,i,o=[],u=!0,c=!1;try{for(e=e.call(r);!(u=(t=e.next()).done)&&(o.push(t.value),!n||o.length!==n);u=!0);}catch(r){c=!0,i=r}finally{try{u||null==e.return||e.return()}finally{if(c)throw i}}return o}}(r,n)||u(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.push.apply(e,t)}return e}function i(r,n,e){return n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function o(r){return function(r){if(Array.isArray(r))return c(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||u(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(r,n){if(r){if("string"==typeof r)return c(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(r,n):void 0}}function c(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=Array(n);e<n;e++)t[e]=r[e];return t}function a(r){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},a(r)}var l=n,f=new Set(["string","number"]);l.nil=void 0,l.isArray=Array.isArray,l.is=function(r,n){return a(r)===n},l.isNil=function(r){return r==l.nil},l.notNil=function(r){return r!=l.nil},l.isObject=function(r){return l.notNil(r)&&l.is(r,"object")},l.isEqual=function(r,n){return[r,n].every(l.isObject)?Object.is(r,n):r===n},l.isFalse=function(r){return l.isEqual(r,!1)},l.isFalsy=function(r){return l.isNil(r)||l.isFalse(r)},l.complement=function(r){return function(){return l.isFalsy(r.apply(void 0,arguments))}},l.isTruthy=l.complement(l.isFalsy),l.isZero=function(r){return 0===r},l.isString=function(r){return l.is(r,"string")},l.isNumber=function(r){return l.is(r,"number")},l.isNumeric=function(r){return f.has(a(r))&&!isNaN(parseInt(r,10))&&isFinite(r)},l.isBoolean=function(r){return l.is(r,"boolean")},l.isUndefined=function(r){return l.is(r,"undefined")},l.isNull=function(r){return null===r},l.isPlainObject=function(r){return"[object Object]"===Object.prototype.toString.call(r)},l.not=l.isFalsy,l.partial=function(r){for(var n=arguments.length,e=Array(1<n?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];return function(){for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];return r.apply(void 0,[].concat(e,t))}},l.partialRight=function(r){for(var n=arguments.length,e=Array(1<n?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];return function(){for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];return r.apply(void 0,[].concat(t,e))}},l.deepClone=function(r){return l.isArray(r)?o(r).map(l.deepClone):l.isObject(r)?Object.entries(function(r){for(var n,e=1;e<arguments.length;e++)n=null==arguments[e]?{}:arguments[e],e%2?t(Object(n),!0).forEach((function(e){i(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}));return r}({},r)).reduce((function(r,n){var t=e(n,2),i=t[0],o=t[1];return r[i]=l.deepClone(o),r}),{}):r},["fill","push","reverse","unshift","splice"].forEach((function(r,n){return l[r]=function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return n=l.deepClone(e)||[],[][r].apply(n,i),n}})),["concat","join","slice","every","filter","find","findIndex","forEach","map","reduce","reduceRight","some"].forEach((function(r){return l[r]=function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return[][r].apply(l.deepClone(n)||[],t.map(l.deepClone))}})),["entries","keys","values"].forEach((function(r){return l[r]=function(n){return l.isArray(n)?o([][r].apply(n||[])):Object[r](n)}})),["pop","shift"].forEach((function(r){return l[r]=function(n){return l.deepClone(n)[r]()}})),["includes","indexOf","lastIndexOf"].forEach((function(r){return l[r]=function(n,e){return n[r](e)}})),l.sort=function(r,n){return l.deepClone(r).sort(l.every(r,l.isNumber)?function(r,n){return r-n}:n)},l.and=function(){for(var r=arguments.length,n=Array(r),e=0;e<r;e++)n[e]=arguments[e];return l.reduce(n,(function(r,n){return l.isFalsy(r)?r:n}))},l.or=function(){for(var r=arguments.length,n=Array(r),e=0;e<r;e++)n[e]=arguments[e];return l.reduce(n,(function(r,n){return l.isFalsy(r)?n:r}))},l.isEqiv=function(r,n){if([r,n].every(l.isObject)){var e=l.keys(r);if(e.length!=l.keys(n).length)return!1;for(;e.length;){var t=e.pop();if(r[t]!==n[t])return!1}return!0}return r==n},l.pipe=function(r){for(var n=arguments.length,e=Array(1<n?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];return function(){return l.reduce(e,(function(r,n){return n(r)}),r.apply(void 0,arguments))}},l.compose=function(){for(var r=arguments.length,n=Array(r),e=0;e<r;e++)n[e]=arguments[e];return function(r){return function(){return l.pipe.apply(l,o(r)).apply(void 0,arguments)}}(l.reverse([].concat(n)))},l.isEmpty=function(r){return l.isArray(r)||l.isString(r)?!r.length:l.isObject(r)?!Object.keys(r).length:l.isNil(r)},l.castPath=function(r){if(l.isArray(r))return o(r);for(var n=(""+r).split(""),e=[],t="",i=0,u=function(r){return e.push(l.isNumeric(r)?+r:r),t=""};i<n.length;)if([".","[","]"].includes(n[i])){if(0==i++)continue;"]"!==n[i-2]&&u(t)}else if(["'",'"'].includes(n[i])){for(var c=n[i++];n[i]!==c;)"\\"===n[i]&&(t+=n[i++]),t+=n[i++];i++}else t+=n[i++];return t.length&&u(t),e},l.get=function(r,n,e){return l.pipe(l.castPath,l.partialRight(l.reduce,(function(r,n){return l.isObject(r)&&r[n]||l.nil}),r))(n)||e},l.has=function(r,n){return l.pipe(l.isNil,l.not)(l.get(r,n))},l.walkPath=function(r,n,e){for(var t=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=l.castPath(n),o=null==r?l.isNumber(i[0])?[]:{}:t?r:l.deepClone(r)||{},u=o;i.length;){var c=i.shift(),a=i[0];e(u,c,a),null!=a&&(u=u[c])}return o},l.assoc=function(r,n,e){var t=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];return l.walkPath(r,n,(function(r,n,t){return l.isNil(t)?r[n]=e:r[n]=l.deepClone(l.isNil(r[n])&&l.isNumber(t)?[]:r[n])||{}}),t)},l.dissoc=function(r,n){var e=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return l.walkPath(r,n,(function(r,n,e){return l.isNil(e)?l.isArray(r)?r.splice(l.isNil(e),r.length):delete r[n]:r[n]=l.deepClone(r[n])||{}}),e)},l.set=l.partialRight(l.assoc,!0),l.drop=l.partialRight(l.dissoc,!0),l.assign=Object.assign,l.merge=function(){for(var r=arguments.length,n=Array(r),t=0;t<r;t++)n[t]=arguments[t];return l.reduce(n,(function(r,n){return l.forEach(l.entries(n),(function(n){var t=e(n,2),i=t[0],o=t[1];l.isObject(r[i])&&l.isObject(o)?r[i]=l.merge(r[i],o):l.notNil(o)&&(r[i]=o)})),r}))}})(0,r),r})()}));